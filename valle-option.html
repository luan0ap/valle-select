<link rel="import" href="../polymer/polymer-element.html">

<dom-module id="valle-option">
  <template>

    <style>

      :host {

      }

    </style>
    
    <slot></slot>

  </template>

  <script>
    class valleOption extends Polymer.Element {

      static get is() { return 'valle-option'; }

      connectedCallback() {
        super.connectedCallback();

        this.setAttribute('role', 'option');
        this.addEventListener('click', this._toggleSelected.bind(this));
      }

      _toggleSelected() {
        this.hasAttribute('selected')
        ? this.removeAttribute('selected')
        : this.setAttribute('selected', 'true')
      }

      _toggleSelectedObserver(boolean) {
        boolean
        ? this.setAttribute('aria-selected', 'true')
        : this.setAttribute('aria-selected', 'false')
      }

      static get properties() {
        return {
          value: String,
          selected: { 
            type: Boolean,
            value: false,
            observer: '_toggleSelectedObserver',
            reflectToAttribute: true
          }
        };
      }

    }

    window.customElements.define(valleOption.is, valleOption);
  </script>
</dom-module>
